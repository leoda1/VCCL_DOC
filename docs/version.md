# 版本信息

## 当前版本

### 软件名称
****

- **基于**: nccl_2.26.6-1 开发
- **支持 CUDA 版本**: 12.9 (支持 CUDA 12.7 及以上版本)

#### 新增特性
- ✅ **拓扑感知流量负载均衡**: 支持 RING、ECMP 和 PXN 策略
- ✅ **PCIe 异构与智能 RNIC 选择**: 自适应异构拓扑，智能选择最优 RNIC
- ✅ **流可视化遥测**: 实时通信流跟踪和诊断
- ✅ **容错机制**: 节点或链路故障时的可靠通信保障
- ✅ **SM Free & Overlap**: 通信与计算真正重叠，不占用 GPU SM

#### 技术规格
- **基础版本**: NCCL 2.26.6-1
- **CUDA 兼容性**: 12.9 (兼容 12.7+)
- **支持架构**: Hopper (H100, H200)
- **默认启用特性**: 
  - 拓扑感知负载均衡
  - PCIe 异构与 SRS
  - 容错机制

#### 配置要求
- **网络**: InfiniBand 环境
- **编译器**: 支持 CUDA 12.7+ 的 NVCC
- **内存**: 建议 16GB+ 系统内存
- **存储**: 至少 5GB 可用空间

## 兼容性

### CUDA 版本支持
| CUDA 版本 | 支持状态 | 说明 |
|-----------|----------|------|
| 12.9 | ✅ 推荐 | 完全测试和优化 |
| 12.8 | ✅ 支持 | 兼容性良好 |
| 12.7 | ✅ 支持 | 最低支持版本 |
| < 12.7 | ❌ 不支持 | 需要升级 CUDA |

### 架构支持
| 架构 | GPU 型号 | 支持状态 |
|------|----------|----------|
| Hopper | H100, H200 | ✅ 完全支持 |
| Ada Lovelace | RTX 4090 | ⚠️ 部分支持 |
| Ampere | A100, V100 | ⚠️ 部分支持 |

### 操作系统支持
- **Linux**: Ubuntu 20.04+, CentOS 8+, RHEL 8+
- **容器**: Docker, Singularity
- **集群管理**: Slurm, PBS, Kubernetes

## 获取版本信息

### 运行时查看版本
```bash
# 查看 VCCL 版本信息
export NCCL_DEBUG=INFO
mpirun -np 2 your_application
# 输出中会显示 VCCL 版本信息
```

### 编译时版本检查
```bash
# 检查编译时的版本信息
grep -r "VCCL_VERSION" build/include/
```

### Git 版本信息
```bash
# 在源码目录中查看详细版本信息
git log --oneline -1
git describe --tags
```

## 发布说明

### v0.3.1 重要改进
1. **性能优化**: 相比 NCCL 原版，在大规模集群上通信效率提升 15-30%
2. **稳定性增强**: 新增容错机制，在网络故障时自动恢复
3. **易用性改进**: 大部分特性默认启用，减少配置复杂度
4. **可观测性**: 新增流遥测功能，便于性能调优和故障诊断

### 已知问题
- 在某些特定网络拓扑下，PXN 策略可能需要手动调优
- 容错功能需要预先指定 NIC 配置
- SM Free 模式在某些工作负载下可能需要额外调优

### 后续版本规划
- **v0.3**: 增强的自适应路由算法
- **v0.4**: GPU Direct Storage 支持
- **v1.0**: 生产就绪版本，完整测试覆盖

---

!!! info "版本兼容性"
    VCCL v0.3.1 与 NCCL 2.26.6-1 完全兼容，可以作为 drop-in replacement 使用。

!!! warning "升级注意事项"
    从其他版本升级时，请确保重新编译所有依赖 NCCL 的应用程序。
